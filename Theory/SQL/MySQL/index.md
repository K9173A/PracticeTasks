Материалы взяты с ресурсов:

* http://www.mysql.ru/docs/man/MySQL_indexes.html
* https://ruhighload.com/%D0%98%D0%BD%D0%B4%D0%B5%D0%BA%D1%81%D1%8B+%D0%B2+mysql

## Индексы
Индексы применяются для быстрого поиска строк с указанным значением одного столбца. Без индекса чтение таблицы
осуществляется по всей таблице начиная с первой записи, пока не будут найдены соответствующие строки. Чем больше таблица,
тем больше накладные расходы. Если же таблица содержит индекс по рассматриваемым столбцам, то MySQL может быстро
определить позицию для поиска в середине файла данных без просмотра всех данных. Для таблицы, содержащей 1000 строк, это
будет как минимум в 100 раз быстрее по сравнению с последовательным перебором всех записей. Однако в случае, когда
необходим доступ почти ко всем 1000 строкам, быстрее будет последовательное чтение, так как при этом не требуется
операций поиска по диску.

Индексы используются для того, чтобы:

* Быстро найти строки, соответствующие выражению `WHERE`.
* Извлечь строки из других таблиц при выполнении объединений.
* Найти величины `MAX()` или `MIN()` для заданного индексированного столбца.
* Производить сортировку или группирование в таблице.
* В некоторых случаях запрос можно оптимизировать для извлечения величин без обращения к файлу данных.

Важно помнить, что индексы предполагают дополнительные операции записи на диск. При каждом обновлении или добавлении
данных в таблицу, происходит также запись и обновление данных в индексе.

### Когда использовать?
* Индексы следует создавать по мере обнаружения медленных запросов. В этом поможет slow log в MySQL. Запросы, которые
выполняются более 1 секунды являются первыми кандидатами на оптимизацию.
* Начинайте создание индексов с самых частых запросов. Запрос, выполняющийся секунду, но 1000 раз в день наносит больше
ущерба, чем 10-секундный запрос, который выполняется несколько раз в день.
* Не создавайте индексы на таблицах, число записей в которых меньше нескольких тысяч. Для таких размеров выигрыш от
использования индекса будет почти незаметен.
* Не создавайте индексы заранее, например, в среде разработки. Индексы должны устанавливаться исключительно под форму и
тип нагрузки работающей системы.
* Удаляйте неиспользуемые индексы.

### Простой индекс
```mysql
CREATE INDEX register_date
          ON users(register_date);
```
После создания индекса на колонку, MySQL сохранит все ее значения в отсортированном виде.

### Уникальный индекс
Это удобно для колонок, значения в которых должны быть уникальными по всей таблице:
```mysql
CREATE UNIQUE INDEX email
                 ON users(email)
```
### Составной индекс
Для запросов, в которых используется несколько колонок, необходимо использовать составные индексы.
```mysql
CREATE INDEX age_gender ON users(age, gender);
```

#### Кластерный индекс
Обычные индексы являются некластерными. Это означает, что сам индекс хранит только ссылки на записи таблицы. Когда
происходит работа с индексом, определяется только список записей (точнее список их первичных ключей), подходящих под
запрос. После этого происходит еще один запрос — для получения данных каждой записи из этого списка.

Кластерные индексы сохраняют данные записей целиком, а не ссылки на них. При работе с таким индексом не требуется
дополнительной операции чтения данных.

Первичные ключи таблиц InnoDB являются кластерными. Поэтому выборки по ним происходят очень эффективно.
